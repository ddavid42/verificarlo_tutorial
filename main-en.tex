\documentclass{TP}
\usepackage[american]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage[all]{xy}
\usepackage{hyperref}
\usepackage{todonotes}
\usepackage{placeins}
\usepackage{algorithm}
\usepackage{algpseudocode}

\graphicspath{{images/} {figs/}}

\newcommand*{\matminus}{%
  \leavevmode
  \hphantom{0}%
  \llap{%
    \settowidth{\dimen0 }{$0$}%
    \resizebox{1.1\dimen0 }{\height}{$-$}%
  }%
}

\usepackage{listings}

\lstdefinestyle{customC}{
  belowcaptionskip=1\baselineskip,
  breaklines=true,
  xleftmargin=\parindent,
  language=C,
  showstringspaces=false,
  basicstyle=\tiny\ttfamily,
  keywordstyle=\bfseries\color[rgb]{0.580, 0.000, 0.827},
  %{purple!40!lightgray},
  commentstyle=\itshape\color{green!40!black},
  identifierstyle=\bfseries\color{cyan!75!black},
  stringstyle=\color{orange},
  deletekeywords={double,float},
  classoffset=1, % starting new class
  otherkeywords={double,float},
  morekeywords={double,float},
  keywordstyle=\bfseries\color{green!55!black},
  classoffset=0
}


\usepackage[parfill]{parskip}

\title{\includegraphics[keepaspectratio, scale=0.4]{verificarlo-logo.pdf}\\[4mm]
  Tutorial}

\hypersetup{pdftitle={Tutoriel Verificarlo}}

\author{eric.petit@intel.com; yohan.chatelain@uvsq.fr; pablo.oliveira@uvsq.fr;
  francois.fevotte@edf.fr; bruno.lathuiliere@edf.fr}

\date{Universit√© de Versailles Saint-Quentin en Yvelines - Intel - EDF}

\begin{document}
\maketitle
\tableofcontents
\vspace{2cm}
Verificarlo is an open-source project under GPL v3. It is freely available at the following address : \\
\centerline{\url{https://github.com/verificarlo/verificarlo}}

~\\A Debian package and a Docker container are also available: \\
\begin{itemize}
\item \url{https://github.com/verificarlo/verificarlo/releases/tag/v0.2.0-debian}
\item \url{https://hub.docker.com/r/verificarlo/verificarlo/}
\end{itemize}

\section{Verificarlo Basics}
\subsection{Start a verificarlo project}

{\sc{Verificarlo}} is overloading the LLVM compiler. It will be used instead of your usual compiler using the command {\tt verificarlo}.

To start a project, the first thing is to modify your build system to use the {\tt{verificarlo}} compiler.

Since the fundamental usage of Verificarlo is based on multiple execution sample study, it is necessary to provide easy execution and data of interest collection script for your application. Since all applications have different need, you are responsible to provide {\it ad hoc} implementation. However, you will find some example in the tutorial code and the Verificarlo {\tt test} directory.

\subsection{Dealing with Verificarlo configurations}

\subsubsection{From a terminal}

Verificarlo is controlled through three environment variables
\begin{enumerate}
\item {\tt  VERIFICARLO\_MCAMODE}:
\begin{enumerate}
\item MCA: (default value) {\it Monte Carlo Arithmetic} with inbound and outbound error
\item IEEE: noiseless execution equivalent to IEEE (useful to check that the instrumentation didn't 'break' the code).
\item PB: {\it Precision Bounding} only inbound error
\item RR: {\it Random Rounding} only outbound error
\end{enumerate}
\item {\tt VERIFICARLO\_PRECISION} control the virtual precision, {\it i.e.} the magnitude of the noise introduction. The default value is  53, the less significant bit of double precision floating point number. The equivalent in single precision is 24.~\cite{denis2016verificarlo,parker1997monte}.

\item {\tt VERIFICARLO\_BACKEND} In its github released version, Verificarlo supports two main {\it backends} with theoretically equivalent behavior:
\begin{description}
\item[{\tt MPFR}] : This is the original reference implementation using the multi precision library MPFR~\cite{Fousse:2007:MMB:1236463.1236468} and extrapolated from  Frechtling~\cite{frechtling2015automated} work.

\item[{\tt QUAD}] : Since doubling the mantissa number of bits is enough to represent all the noise that can influence the rounding, {\tt Quad} uses {\it ad-hoc} quadruple precision (binary128) implementation of the stochastic arithmetic for double precision (binary64) computation, and double (binary64) for single precision (binary32) computation.
\end{description}
\end{enumerate}

To change these variable values, you can use the  {\tt export} Unix command, or do an affectation in your shell script running the application, or using the API changing it dynamically from the application source code.

In order to be sure of the execution setup during your experiment, we advise you to fix the desired parameters in the execution scripts.


\subsubsection{From the source code}

Using the verificarlo API, it is possible for advanced user to control verificarlo at runtime from the application by inserting calls into the program.

This functionality is undocumented and we encourage users who want to try to do it to contact us directly from github.



\input{polynomial}

\input{compensated}

\input{veritracer}

\newpage
\bibliographystyle{ieeetr}
\section{Bibliography}
\bibliography{bibliography}

\end{document}
